@using CSGOSkinsWeb.Core.Web.Inputs
@inherits OwningComponentBase

@if (WeaponSkin != null)
{
    <table class="table-borderless">
        <thead>
            <tr>
                <td><h1>Edit Skin</h1></td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <section id="edit-component">
                        <EditForm Model="WeaponSkin" OnValidSubmit="HandleValidSubmitAsync">
                            <DataAnnotationsValidator />
                            <ValidationSummary />
                            <div>
                                <div class="form-group">
                                    <label class="text-white" for="skinid">Id</label>
                                    <InputNumber id="skinid" class="form-control" @bind-Value="WeaponSkin.Id" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="idstring">Id string</label>
                                    <InputText id="idstring" class="form-control" @bind-Value="WeaponSkin.Idstring" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="skinname">Skin Name</label>
                                    <InputText id="skinname" class="form-control" @bind-Value="WeaponSkin.Skinname" />
                                </div>

                                <div class="form-group">
                                    <label class="text-white" for="weapon">Weapon</label>
                                    @if (weaponsList != null)
                                    {
                                        <InputSelectNullableNumber class="form-group form-control" @bind-Value="WeaponSkin.Weapon">
                                            <option value="">Select a weapon...</option>
                                            @foreach (var weapon in weaponsList)
                                            {
                                                <option value="@weapon.Id">@weapon.Weapname</option>
                                            }
                                        </InputSelectNullableNumber>
                                    }
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="rarity">Rarity</label>
                                    <InputNumber id="rarity" class="form-control" @bind-Value="WeaponSkin.Rarity" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="case">Case</label>
                                    <InputNumber id="case" class="form-control" @bind-Value="WeaponSkin.Weapcase" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="collection">Collection</label>
                                    <InputNumber id="collection" class="form-control" @bind-Value="WeaponSkin.Weapcase" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="hasstattrak">Has Stattrak?</label>
                                    <InputCheckbox id="hasstattrak" class="form-control" @bind-Value="WeaponSkin.Hasstattrak" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="hassouvenir">Has Souvenir?</label>
                                    <InputCheckbox id="hassouvenir" class="form-control" @bind-Value="WeaponSkin.Hassouvenir" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="haspattern">Has Pattern?</label>
                                    <InputCheckbox id="haspattern" class="form-control" @bind-Value="WeaponSkin.Haspattern" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="floatstart">Float Start</label>
                                    <InputNumber id="floatstart" class="form-control" @bind-Value="WeaponSkin.Wearstart" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="floatend">Float Start</label>
                                    <InputNumber id="floatend" class="form-control" @bind-Value="WeaponSkin.Wearend" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="skindescription">Description</label>
                                    <InputTextArea id="skindescription" class="form-control" @bind-Value="WeaponSkin.Skindescription" />
                                </div>
                                <div class="form-group">
                                    <label class="text-white" for="skinimg">Image Source</label>
                                    <InputTextArea id="skinimg" class="form-control" @bind-Value="WeaponSkin.Imgsrc" />
                                </div>

                                <br />
                                <input class="btn btn-primary" type="submit" value="Save" />
                                <input class="btn btn-secondary" type="button" value="Delete" @onclick="DeleteSkinAsync" />
                                <input class="btn btn-secondary" type="button" value="Back" @onclick="ReturnToViewPage" />
                            </div>
                        </EditForm>
                    </section>
                </td>
                <td>
                    <div id="view-component">
                        <SkinViewComponent WeaponSkin="WeaponSkin"></SkinViewComponent>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
}